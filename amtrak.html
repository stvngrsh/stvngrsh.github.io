<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Go-Live Countdown</title>
    </head>
    <body>
        <div class="main">
            <div class="content">
                <canvas id="world" class="hide" style="position: absolute;"></canvas>
                <h1 id="header1">Time to Go-Live!!!</h1>
                <h1 id="header2" class="hide">WE ARE LIVE! (I hope)</h1>
                <div class="timer">
                    <div class="timer-element">
                        <div id="days" class="timer-digits">00</div>
                        <div class="timer-label">DAYS</div>
                    </div>
                    <div class="timer-element">
                        <div id="hours" class="timer-digits">00</div>
                        <div class="timer-label">HOURS</div>
                    </div>
                    <div class="timer-element">
                        <div id="minutes" class="timer-digits">00</div>
                        <div class="timer-label">MINUTES</div>
                    </div>
                    <div class="timer-element">
                        <div id="seconds" class="timer-digits">00</div>
                        <div class="timer-label">SECONDS</div>
                    </div>
                </div>
                <h2><b>Go-Live Date: </b>October 8th, 2017</h2>
                <img class="bob" src="img/bob.png">
                <img class="vaidehi" src="img/vaidehi.png">
                <img class="tien" src="img/tien.png">
                <img class="steven" src="img/steven.png">
                <img class="srini" src="img/srini.png">
                <img class="brian" src="img/brian.png">
                <img class="lauren" src="img/lauren.png">
                <img class="andrew" src="img/andrew.png">
                <img class="anh" src="img/anh.png">
                <img class="nandita" src="img/nandita.png">
                <img class="igor" src="img/igor.png">
                <img class="tara" src="img/tara.png">
                <img class="james" src="img/james.png">
                <img class="noemie" src="img/noemie.png">
                <img class="meredith" src="img/meredith.png">
                <img class="train" src="img/train.svg">
                
            </div>
        </div>
    </body>
</html>

<style>
    html, body {
        height: 100%;
        width: 100%;
        background: rgb(29, 37, 82);
        margin: 0;
        position: relative;
    }
    .main {
        display: flex;
        margin: 0; 
        justify-content: center;
        align-content: center;
        height: 100%;
        width: 100%;
    }
    .content {
        position: relative;
        background-image: url(http://www.factinate.com/wp-content/uploads/2017/02/well-do-it-live.jpg);
        background-repeat: repeat;
        background-size: 185px;
        height: 600px;
        background: #f1f1f1;
        width: 100%;
        font-family: monospace;
        justify-content: center;
        align-items: center;
        display: flex;
        flex-direction: column;
        margin: auto;
    }
    h1 {
        font-size: 4em;
        color: white;
        text-shadow: 4px 4px #000;
    }
    h2 {
        color: white;
        margin-top: -5px;
    }
    .timer {
        display: flex;
    }
    .timer-element {
        margin: 10px;
    }
    .timer-digits {
        padding: 10px;
        background: #d2d2d2;
        font-size: 60px;
    }
    .timer-label {
        text-align: center;
        font-size: 20px;
        color: white;
    }
    img {
        transform: rotateY(180deg);
        position: absolute;
        bottom: 0;
        left: 0%;
    }
    img.train{
        width: 1050px;
        margin-left:-229px;
    }
    img.bob{
        width: 100px;
        z-index: 12;
        bottom: 57px;
        margin-left: 613px;
    }
    img.vaidehi{
        width: 98px;
        z-index: 11;
        bottom: 71px;
        margin-left: 552px;
    }
    img.tien{
        width: 78px;
        z-index: 10;
        bottom: 74px;
        margin-left: 500px;
    }
    img.steven{
        width: 87px;
        z-index: 9;
        bottom: 72px;
        margin-left: 436px;
    }
    img.srini{
        width: 77px;
        z-index: 8;
        bottom: 69px;
        margin-left: 390px;
    }
    img.brian{
        width: 77px;
        z-index: 7;
        bottom: 69px;
        margin-left: 333px;
    }
    img.lauren{
        width: 86px;
        z-index: 6;
        bottom: 72px;
        margin-left: 275px;
    }
    img.andrew{
        width: 80px;
        z-index: 5;
        bottom: 72px;
        margin-left: 221px;
    }
    img.anh{
        width: 88px;
        z-index: 4;
        bottom: 62px;
        margin-left: 167px;
    }
    img.nandita{
        width: 102px;
        z-index: 3;
        bottom: 48px;
        margin-left: 96px;
    }
    img.igor{
        width: 76px;
        z-index: 3;
        bottom: 78px;
        margin-left: 59px;
    }
    img.tara{
        width: 83px;
        z-index: 3;
        bottom: 42px;
        margin-left: -3px;
    }
    img.james{
        width: 75px;
        z-index: 3;
        bottom: 76px;
        margin-left: -54px;
    }
    img.noemie{
        width: 104px;
        z-index: 3;
        bottom: 35px;
        margin-left: -126px;
    }
    img.meredith{
        width: 82px;
        z-index: 3;
        bottom: 48px;
        margin-left: -173px;
    }
    

    .nogo, .go {
        border: none;
        width: 90px;
        height: 40px;
        font-size: 18px;
        color: white;
        font-weight: bold;
        padding: 5px;
        cursor: pointer;
    }

    .nogo {
        background: red;
        border: none;
    }
    .go {
        background: green;
        border: none;
    }

    .hide{
        display:none;
    }
    
    .rainbow {
       /* Chrome, Safari, Opera */
      -webkit-animation: rainbow 1s infinite; 

      /* Internet Explorer */
      -ms-animation: rainbow 1s infinite;

      /* Standar Syntax */
      animation: rainbow 1s infinite; 
    }

    /* Chrome, Safari, Opera */
    @-webkit-keyframes rainbow{
        20%{color: red;}
        40%{color: yellow;}
        60%{color: green;}
        80%{color: blue;}
        100%{color: orange;}	
    }
    /* Internet Explorer */
    @-ms-keyframes rainbow{
        20%{color: red;}
        40%{color: yellow;}
        60%{color: green;}
        80%{color: blue;}
        100%{color: orange;}	
    }

    /* Standar Syntax */
    @keyframes rainbow{
        20%{color: red;}
        40%{color: yellow;}
        60%{color: green;}
        80%{color: blue;}
        100%{color: orange;}	
    }


</style>

<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

<script>
    const startTime = new Date(2017, 10, 5, 0, 0, 0);
    const endTime = new Date(2017, 9, 8, 6, 30, 0);
    const totalTime = endTime - startTime;
    
    var i = 10;
    $(document).ready(function(){
        
        var triggerConfetti = false;
        
        var x = setInterval(function() {
            var now = new Date().getTime();
            var distance = endTime.getTime() - now;
            
            if(distance > 0){

                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                $('#days').html(days);
                $('#hours').html(hours);
                $('#minutes').html(("0" + minutes).slice(-2));
                $('#seconds').html(("0" + seconds).slice(-2));
                
                var percent = (1-distance/totalTime) * 100 - 65;

                $('img').css("left", percent + "%");
                i = i * -1;
                $('img.bob').css("transform", "rotateZ(" + i + "deg)");
                $('img.vaidehi').css("transform", "rotateZ(" + -i + "deg)");
                $('img.tien').css("transform", "rotateZ(" + i + "deg)");
                $('img.steven').css("transform", "rotateZ(" + -i + "deg)");
                $('img.srini').css("transform", "rotateZ(" + i + "deg)");
                $('img.brian').css("transform", "rotateZ(" + -i + "deg)");
                $('img.lauren').css("transform", "rotateZ(" + i + "deg)");
                $('img.andrew').css("transform", "rotateZ(" + -i + "deg)");
                $('img.anh').css("transform", "rotateZ(" + i + "deg)");
                $('img.nandita').css("transform", "rotateZ(" + -i + "deg)");
                $('img.igor').css("transform", "rotateZ(" + i + "deg)");
                $('img.tara').css("transform", "rotateZ(" + -i + "deg)");
                $('img.james').css("transform", "rotateZ(" + i + "deg)");
                $('img.noemie').css("transform", "rotateZ(" + -i + "deg)");
                $('img.meredith').css("transform", "rotateZ(" + i + "deg)");
            }
            else {
                if(!triggerConfetti){
                    triggerConfetti = true;
                    console.log("GO LIVE");
                    $('#world').removeClass('hide');
                    $('#header1').addClass('hide');
                    $('#header2').removeClass('hide');
                    $('#header2').addClass('rainbow');
                    $('.timer-digits').addClass('rainbow');
                }
                $('#days').html("0");
                $('#hours').html("00");
                $('#minutes').html("00");
                $('#seconds').html("00");
                
                var percent = (1-distance/totalTime) * 100 - 65;

                $('img').css("left", percent + "%");
                i = i * -1;
                $('img.bob').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.vaidehi').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.tien').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.steven').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.srini').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.brian').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.lauren').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.andrew').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.anh').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.nandita').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.igor').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.tara').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.james').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
                $('img.noemie').css("transform", "rotateZ(" + -i + "deg) translateY(" + -i + "px)");
                $('img.meredith').css("transform", "rotateZ(" + i + "deg) translateY(" + i + "px)");
            }
                
           
        }, 1000);
 
    });
   
    (function() {
      var COLORS, Confetti, NUM_CONFETTI, PI_2, canvas, confetti, context, drawCircle, i, range, resizeWindow, xpos;

      NUM_CONFETTI = 350;

      COLORS = [[85, 71, 106], [174, 61, 99], [219, 56, 83], [244, 92, 68], [248, 182, 70]];

      PI_2 = 2 * Math.PI;

      canvas = document.getElementById("world");

      context = canvas.getContext("2d");

      window.w = 0;

      window.h = 0;

      resizeWindow = function() {
        window.w = canvas.width = window.innerWidth;
        return window.h = canvas.height = window.innerHeight;
      };

      window.addEventListener('resize', resizeWindow, false);

      window.onload = function() {
        return setTimeout(resizeWindow, 0);
      };

      range = function(a, b) {
        return (b - a) * Math.random() + a;
      };

      drawCircle = function(x, y, r, style) {
        context.beginPath();
        context.arc(x, y, r, 0, PI_2, false);
        context.fillStyle = style;
        return context.fill();
      };

      xpos = 0.5;

      document.onmousemove = function(e) {
        return xpos = e.pageX / w;
      };

      window.requestAnimationFrame = (function() {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
          return window.setTimeout(callback, 1000 / 60);
        };
      })();

      Confetti = (function() {
        function Confetti() {
          this.style = COLORS[~~range(0, 5)];
          this.rgb = "rgba(" + this.style[0] + "," + this.style[1] + "," + this.style[2];
          this.r = ~~range(2, 6);
          this.r2 = 2 * this.r;
          this.replace();
        }

        Confetti.prototype.replace = function() {
          this.opacity = 0;
          this.dop = 0.03 * range(1, 4);
          this.x = range(-this.r2, w - this.r2);
          this.y = range(-20, h - this.r2);
          this.xmax = w - this.r;
          this.ymax = h - this.r;
          this.vx = range(0, 2) + 8 * xpos - 5;
          return this.vy = 0.7 * this.r + range(-1, 1);
        };

        Confetti.prototype.draw = function() {
          var ref;
          this.x += this.vx;
          this.y += this.vy;
          this.opacity += this.dop;
          if (this.opacity > 1) {
            this.opacity = 1;
            this.dop *= -1;
          }
          if (this.opacity < 0 || this.y > this.ymax) {
            this.replace();
          }
          if (!((0 < (ref = this.x) && ref < this.xmax))) {
            this.x = (this.x + this.xmax) % this.xmax;
          }
          return drawCircle(~~this.x, ~~this.y, this.r, this.rgb + "," + this.opacity + ")");
        };

        return Confetti;

      })();

      confetti = (function() {
        var j, ref, results;
        results = [];
        for (i = j = 1, ref = NUM_CONFETTI; 1 <= ref ? j <= ref : j >= ref; i = 1 <= ref ? ++j : --j) {
          results.push(new Confetti);
        }
        return results;
      })();

      window.step = function() {
        var c, j, len, results;
        requestAnimationFrame(step);
        context.clearRect(0, 0, w, h);
        results = [];
        for (j = 0, len = confetti.length; j < len; j++) {
          c = confetti[j];
          results.push(c.draw());
        }
        return results;
      };

      step();

    }).call(this);

    $(document).ready(function(){
        goConfetti();
    });

</script>
